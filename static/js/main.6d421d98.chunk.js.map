{"version":3,"sources":["CellUpdater.js","Crocodile.js","Flag.js","Cell.js","CellGenerator.js","YouWin.js","Grid.js","game.js","bigCroc.js","Layout.js","index.js"],"names":["CellUpdater","cells","forEach","cell","crocodile","hidden","a","b","i","length","hiddenCells","filter","changedCount","x","includes","y","neighbour","number","this","revealCells","clickedCell","flagged","Crocodile","src","alt","className","Flag","Cell","props","data","content","onClick","e","onContextMenu","React","Component","CellGenerator","dimension","array","push","coordinates","obj","Math","random","crocodiles","c","YouWin","show","Modal","newCells","Grid","state","showYouWin","startTimer","safeCells","every","gameWon","stopTimer","setState","event","cellUpdater","slice","type","endGameUpdate","leftClickUpdate","preventDefault","rightClickUpdate","endGame","sqrt","cellCount","rows","map","key","handleClick","resetTimer","hideYouWin","resetGame","Game","useState","seconds","setSeconds","minutes","setMinutes","intervalId","setIntervalId","countUp","currentSecond","second","currentMinute","formattedNumber","setInterval","clearInterval","BigCroc","Layout","ReactDOM","render","document","getElementById"],"mappings":"iQAoEeA,E,sGAnECC,GACZA,EAAMC,SAAQ,SAASC,GACjBA,EAAKC,YACPD,EAAKE,QAAS,Q,kCAKRC,EAAGC,GACb,IAAK,IAAIC,EAAI,EAAGA,EAAIF,EAAEG,SAAUD,EAC9B,OAAOF,EAAEE,KAAOD,EAAEC,GAEpB,OAAO,I,kCAGGP,GACV,IAAMS,EAAcT,EAAMU,QAAO,SAAAR,GAAI,OAAIA,EAAKE,SAAWF,EAAKC,aAC1DQ,EAAe,EAEnBF,EAAYR,SAAQ,SAASI,GACRL,EAAMU,QAAO,SAASJ,GACvC,OAAID,IAAMC,MAGR,CAACA,EAAEM,EAAI,EAAGN,EAAEM,EAAGN,EAAEM,EAAI,GAAGC,SAASR,EAAEO,KACnC,CAACN,EAAEQ,EAAI,EAAGR,EAAEQ,EAAGR,EAAEQ,EAAI,GAAGD,SAASR,EAAES,OAQJJ,QACjC,SAAAK,GAAS,OAAyB,IAArBA,EAAUC,SAAiBD,EAAUX,UAGhCI,OAAS,IAC3BH,EAAED,QAAS,EACXO,GAAgB,MAIhBA,EAAe,GACjBM,KAAKC,YAAYlB,K,sCAILA,EAAOmB,GACrBnB,EAAMC,SAAQ,SAASC,GACjBA,IAASiB,IACXjB,EAAKE,QAAS,MAIlBa,KAAKC,YAAYlB,K,uCAGFA,EAAOmB,GACtBnB,EAAMC,SAAQ,SAASC,GACjBA,IAASiB,IACXjB,EAAKkB,SAAWlB,EAAKkB,gB,KCxDdC,MAJf,WACE,OAAO,yBAAKC,IAAI,gBAAgBC,IAAI,YAAYC,UAAU,eCK7CC,MANf,WACE,OACE,yBAAKH,IAAI,WAAWC,IAAI,OAAOC,UAAU,UC4B9BE,E,kLA1BX,OAAIT,KAAKU,MAAMC,KAAX,QACK,kBAAC,EAAD,MACEX,KAAKU,MAAMC,KAAX,OACF,KACEX,KAAKU,MAAMC,KAAX,UACF,kBAAC,EAAD,MAEAX,KAAKU,MAAMC,KAAX,S,+BAID,IAAD,OACDC,EAAUZ,KAAKY,UAErB,OACE,4BACEL,UAAU,SACVM,QAAS,SAAAC,GAAC,OAAI,EAAKJ,MAAMG,QAAQC,IACjCC,cAAe,SAAAD,GAAC,OAAI,EAAKJ,MAAMG,QAAQC,KAEtCF,O,GAtBUI,IAAMC,WCkDVC,E,WArDb,WAAYC,GAAY,oBACtBnB,KAAKmB,UAAYA,E,0DAMjB,IAFA,IAAIC,EAAQ,GAEHzB,EAAI,EAAGA,EAAIK,KAAKmB,UAAWxB,IAClC,IAAK,IAAIE,EAAI,EAAGA,EAAIG,KAAKmB,UAAWtB,IAClCuB,EAAMC,KAAK,CACT1B,EAAGA,EACHE,EAAGA,IAKT,OAAOuB,I,8BAIP,IAAIE,EAActB,KAAKsB,YAAY,GA6BnC,OA3BAA,EAAYtC,SAAQ,SAAAuC,GAAG,OAAKA,EAAIrC,UAAYsC,KAAKC,SAAW,MAC5DH,EAAYtC,SAAQ,SAAAuC,GAAG,OAAKA,EAAIpC,QAAS,KACzCmC,EAAYtC,SAAQ,SAAAuC,GAAG,OAAKA,EAAIpB,SAAU,KAE1CmB,EAAYtC,SAAQ,SAASI,GAC3B,IAaMsC,EAbaJ,EAAY7B,QAAO,SAASJ,GAC7C,OAAID,IAAMC,MAGR,CAACA,EAAEM,EAAI,EAAGN,EAAEM,EAAGN,EAAEM,EAAI,GAAGC,SAASR,EAAEO,KACnC,CAACN,EAAEQ,EAAI,EAAGR,EAAEQ,EAAGR,EAAEQ,EAAI,GAAGD,SAASR,EAAES,OAQTJ,QAAO,SAASkC,GAC5C,OAAOA,EAAEzC,aAGNE,EAAEF,YACLE,EAAEW,OAAS2B,EAAWnC,WAInB+B,M,aCpCIM,EAXA,SAAC,GAAuB,IAArBC,EAAoB,EAApBA,KAAMhB,EAAc,EAAdA,QACtB,OACE,kBAACiB,EAAA,EAAD,CAAOD,KAAMA,EAAMtB,UAAU,gBAAgBM,QAASA,GACpD,4BAAQN,UAAU,SAChB,0BAAMA,UAAU,0BAAhB,SAEF,yBAAKA,UAAU,0BAAf,iBCHN,SAASwB,IACP,OAAO,IAAIb,EAAc,IAAInC,Q,IAsGhBiD,E,YAlGb,WAAYtB,GAAQ,IAAD,8BACjB,4CAAMA,KACDuB,MAAQ,CACXlD,MAAOgD,IACPG,YAAY,GAEd,EAAKxB,MAAMyB,aANM,E,yEAUjB,OAAOnC,KAAKiC,MAAMlD,MAAMU,QAAO,SAAAR,GAAI,OAAKA,EAAKC,e,gCAI7C,OAAOc,KAAKoC,YAAYC,OAAM,SAAApD,GAAI,OAAKA,EAAKE,Y,gCAIxCa,KAAKsC,YACPtC,KAAKU,MAAM6B,YACXvC,KAAKwC,SAAS,CAAEN,YAAY,O,kCAIpBO,EAAOvC,GACjB,IAAMwC,EAAc,IAAI5D,EACpBC,EAAQiB,KAAKiC,MAAMlD,MAAM4D,QAEV,UAAfF,EAAMG,MAAoB1C,EAAYhB,WACxCwD,EAAYG,cAAc9D,GAC1BiB,KAAKU,MAAM6B,aACa,UAAfE,EAAMG,KACfF,EAAYI,gBAAgB/D,EAAOmB,IAEnCuC,EAAMM,iBACNL,EAAYM,iBAAiBjE,EAAOmB,IAGtCF,KAAKwC,SAAS,CAAEzD,MAAOA,IACvBiB,KAAKiD,Y,kCAIL,OAAOjD,KAAKiC,MAAMlD,MAAMQ,S,kCAIxB,OAAOiC,KAAK0B,KAAKlD,KAAKmD,e,6BAMtB,IAHM,IAAD,OACDC,EAAO,GAEF9D,EAAI,EAAGA,EAAIU,KAAKmD,YAAa7D,GAAKU,KAAKmB,YAC9CiC,EAAK/B,KAAKrB,KAAKiC,MAAMlD,MAAM4D,MAAMrD,EAAGA,EAAIU,KAAKmB,cAG/C,OAAOiC,EAAKC,KAAI,SAAAtE,GAAK,OACnB,yBAAKwB,UAAU,YAAY+C,IAAKvE,EAAM,GAAN,GAC7BA,EAAMsE,KAAI,SAAApE,GAAI,OACb,kBAAC,EAAD,CACE4B,QAAS,SAAAC,GAAC,OAAI,EAAKyC,YAAYzC,EAAG7B,IAClC0B,KAAM1B,EACNqE,IAAG,UAAKrE,EAAI,EAAT,aAAmBA,EAAI,c,kCAQlCe,KAAKwC,SAAS,CAAEzD,MAAOgD,MACvB/B,KAAKU,MAAM8C,aACXxD,KAAKU,MAAMyB,e,mCAIXnC,KAAKwC,SAAS,CAAEN,YAAY,M,+BAGpB,IAAD,OACDkB,EAAOpD,KAAKoD,OAElB,OACE,kBAAC,WAAD,KACE,kBAAC,EAAD,CACEvB,KAAM7B,KAAKiC,MAAMC,WACjBrB,QAAS,kBAAM,EAAK4C,gBAEtB,yBAAKlD,UAAU,QAAQ6C,GACvB,4BAAQ7C,UAAU,WAAWM,QAAS,kBAAM,EAAK6C,cAAjD,iB,GA3FW1C,IAAMC,WC2CV0C,EAlDF,WAAO,IAAD,EACaC,mBAAS,GADtB,mBACVC,EADU,KACDC,EADC,OAEaF,mBAAS,GAFtB,mBAEVG,EAFU,KAEDC,EAFC,OAGmBJ,mBAAS,MAH5B,mBAGVK,EAHU,KAGEC,EAHF,KAcXC,EAAU,WACdL,GAAW,SAAAM,GAAa,OAVRC,EAUsBD,GATzB,GAAKC,EAAS,KAAO,GAChCL,GAAW,SAAAM,GAAa,OAAIA,EAAgB,KACrC,GAEAD,EAAS,EALF,IAAAA,MAaZE,EAAkB,SAAAxE,GAAM,OAAK,IAAMA,GAAQ4C,OAAO,IAwBxD,OACE,kBAAC,WAAD,KACE,mBAVU,WACZ,OACE,yBAAKpC,UAAU,qBACZgE,EAAgBR,GADnB,IAC8BQ,EAAgBV,MAO9C,MACA,kBAAC,EAAD,CAAM1B,WAzBI,WACZ,IAAM8B,EAAaO,YAAYL,EAAS,KACxCD,EAAcD,IAuBa1B,UApBhB,WACXkC,cAAcR,IAmB8BT,WAhBhC,WACZM,EAAW,GACXE,EAAW,QC5BAU,MAJf,WACE,OAAO,yBAAKrE,IAAI,gBAAgBC,IAAI,YAAYC,UAAU,cCiB7CoE,E,iLAdX,OACE,yBAAKpE,UAAU,mBACb,yBAAKA,UAAU,OACb,yBAAKA,UAAU,UACf,yBAAKA,UAAU,wBACb,kBAAC,EAAD,MACA,kBAAC,EAAD,a,GARSS,IAAMC,W,MCE3B2D,IAASC,OAAO,kBAAC,EAAD,MAAYC,SAASC,eAAe,W","file":"static/js/main.6d421d98.chunk.js","sourcesContent":["class CellUpdater {\n  endGameUpdate(cells) {\n    cells.forEach(function(cell) {\n      if (cell.crocodile) {\n        cell.hidden = false;\n      }\n    });\n  }\n\n  arraysEqual(a, b) {\n    for (let i = 0; i < a.length; ++i) {\n      return a[i] === b[i];\n    }\n    return true;\n  }\n\n  revealCells(cells) {\n    const hiddenCells = cells.filter(cell => cell.hidden && !cell.crocodile);\n    let changedCount = 0;\n\n    hiddenCells.forEach(function(a) {\n      const neighbours = cells.filter(function(b) {\n        if (a === b) {\n          return false;\n        } else if (\n          [b.x - 1, b.x, b.x + 1].includes(a.x) &&\n          [b.y - 1, b.y, b.y + 1].includes(a.y)\n        ) {\n          return true;\n        } else {\n          return false;\n        }\n      });\n\n      const magicNeighbours = neighbours.filter(\n        neighbour => neighbour.number === 0 && !neighbour.hidden\n      );\n\n      if (magicNeighbours.length > 0) {\n        a.hidden = false;\n        changedCount += 1;\n      }\n    });\n\n    if (changedCount > 0) {\n      this.revealCells(cells);\n    }\n  }\n\n  leftClickUpdate(cells, clickedCell) {\n    cells.forEach(function(cell) {\n      if (cell === clickedCell) {\n        cell.hidden = false;\n      }\n    });\n\n    this.revealCells(cells);\n  }\n\n  rightClickUpdate(cells, clickedCell) {\n    cells.forEach(function(cell) {\n      if (cell === clickedCell) {\n        cell.flagged = !cell.flagged;\n      }\n    });\n  }\n}\n\nexport default CellUpdater;\n","import React from \"react\";\n\nfunction Crocodile() {\n  return <img src=\"crocodile.png\" alt=\"crocodile\" className=\"crocodile\" />;\n}\n\nexport default Crocodile;\n","import React from \"react\";\n\nfunction Flag() {\n  return (\n    <img src=\"flag.jpg\" alt=\"flag\" className=\"flag\"/>\n  )\n}\n\nexport default Flag;\n","import React from \"react\";\nimport Crocodile from \"./Crocodile\";\nimport Flag from \"./Flag\";\n\nclass Cell extends React.Component {\n  content() {\n    if (this.props.data[\"flagged\"]) {\n      return <Flag />;\n    } else if (this.props.data[\"hidden\"]) {\n      return null;\n    } else if (this.props.data[\"crocodile\"]) {\n      return <Crocodile />;\n    } else {\n      return this.props.data[\"number\"];\n    }\n  }\n\n  render() {\n    const content = this.content();\n\n    return (\n      <button\n        className=\"square\"\n        onClick={e => this.props.onClick(e)}\n        onContextMenu={e => this.props.onClick(e)}\n      >\n        {content}\n      </button>\n    );\n  }\n}\n\nexport default Cell;\n","class CellGenerator {\n  constructor(dimension) {\n    this.dimension = dimension;\n  }\n\n  coordinates() {\n    let array = [];\n\n    for (let x = 0; x < this.dimension; x++) {\n      for (let y = 0; y < this.dimension; y++) {\n        array.push({\n          x: x,\n          y: y\n        });\n      }\n    }\n\n    return array;\n  }\n\n  cells() {\n    let coordinates = this.coordinates(3);\n\n    coordinates.forEach(obj => (obj.crocodile = Math.random() < 0.2));\n    coordinates.forEach(obj => (obj.hidden = true));\n    coordinates.forEach(obj => (obj.flagged = false));\n\n    coordinates.forEach(function(a) {\n      const neighbours = coordinates.filter(function(b) {\n        if (a === b) {\n          return false;\n        } else if (\n          [b.x - 1, b.x, b.x + 1].includes(a.x) &&\n          [b.y - 1, b.y, b.y + 1].includes(a.y)\n        ) {\n          return true;\n        } else {\n          return false;\n        }\n      });\n\n      const crocodiles = neighbours.filter(function(c) {\n        return c.crocodile;\n      });\n\n      if (!a.crocodile) {\n        a.number = crocodiles.length;\n      }\n    });\n\n    return coordinates;\n  }\n}\n\nexport default CellGenerator;\n","import React from \"react\";\nimport { Modal } from \"react-bootstrap\";\n\nconst YouWin = ({ show, onClick }) => {\n  return (\n    <Modal show={show} className=\"you-win-modal\" onClick={onClick}>\n      <button className=\"close\">\n        <span className=\"float-right close-icon\">&times;</span>\n      </button>\n      <div className=\"text-center croctastic\">Croctastic!</div>\n    </Modal>\n  );\n};\n\nexport default YouWin;\n","import React, { Fragment } from \"react\";\nimport CellUpdater from \"./CellUpdater\";\nimport Cell from \"./Cell\";\nimport CellGenerator from \"./CellGenerator\";\nimport YouWin from \"./YouWin\";\n\nfunction newCells() {\n  return new CellGenerator(15).cells();\n}\n\nclass Grid extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      cells: newCells(),\n      showYouWin: false\n    };\n    this.props.startTimer();\n  }\n\n  safeCells() {\n    return this.state.cells.filter(cell => !cell.crocodile);\n  }\n\n  gameWon() {\n    return this.safeCells().every(cell => !cell.hidden);\n  }\n\n  endGame() {\n    if (this.gameWon()) {\n      this.props.stopTimer();\n      this.setState({ showYouWin: true });\n    }\n  }\n\n  handleClick(event, clickedCell) {\n    const cellUpdater = new CellUpdater();\n    let cells = this.state.cells.slice();\n\n    if (event.type === \"click\" && clickedCell.crocodile) {\n      cellUpdater.endGameUpdate(cells);\n      this.props.stopTimer();\n    } else if (event.type === \"click\") {\n      cellUpdater.leftClickUpdate(cells, clickedCell);\n    } else {\n      event.preventDefault();\n      cellUpdater.rightClickUpdate(cells, clickedCell);\n    }\n\n    this.setState({ cells: cells });\n    this.endGame();\n  }\n\n  cellCount() {\n    return this.state.cells.length;\n  }\n\n  dimension() {\n    return Math.sqrt(this.cellCount());\n  }\n\n  rows() {\n    let rows = [];\n\n    for (let i = 0; i < this.cellCount(); i += this.dimension()) {\n      rows.push(this.state.cells.slice(i, i + this.dimension()));\n    }\n\n    return rows.map(cells => (\n      <div className=\"board-row\" key={cells[0][\"x\"]}>\n        {cells.map(cell => (\n          <Cell\n            onClick={e => this.handleClick(e, cell)}\n            data={cell}\n            key={`${cell[\"x\"]}, ${cell[\"y\"]}`}\n          />\n        ))}\n      </div>\n    ));\n  }\n\n  resetGame() {\n    this.setState({ cells: newCells() });\n    this.props.resetTimer();\n    this.props.startTimer();\n  }\n\n  hideYouWin() {\n    this.setState({ showYouWin: false });\n  }\n\n  render() {\n    const rows = this.rows();\n\n    return (\n      <Fragment>\n        <YouWin\n          show={this.state.showYouWin}\n          onClick={() => this.hideYouWin()}\n        />\n        <div className=\"grid\">{rows}</div>\n        <button className=\"new-game\" onClick={() => this.resetGame()}>\n          New Game\n        </button>\n      </Fragment>\n    );\n  }\n}\n\nexport default Grid;\n","import React, { useState, Fragment } from \"react\";\nimport Grid from \"./Grid\";\n\nconst Game = () => {\n  const [seconds, setSeconds] = useState(0);\n  const [minutes, setMinutes] = useState(0);\n  const [intervalId, setIntervalId] = useState(null);\n\n  const newSecond = second => {\n    if (second > 0 && second % 60 === 0) {\n      setMinutes(currentMinute => currentMinute + 1);\n      return 0;\n    } else {\n      return second + 1;\n    }\n  };\n\n  const countUp = () => {\n    setSeconds(currentSecond => newSecond(currentSecond));\n  };\n\n  const formattedNumber = number => (\"0\" + number).slice(-2);\n\n  const start = () => {\n    const intervalId = setInterval(countUp, 1000);\n    setIntervalId(intervalId);\n  };\n\n  const stop = () => {\n    clearInterval(intervalId);\n  };\n\n  const reset = () => {\n    setSeconds(0);\n    setMinutes(0);\n  };\n\n  const Timer = () => {\n    return (\n      <div className=\"timer text-center\">\n        {formattedNumber(minutes)}:{formattedNumber(seconds)}\n      </div>\n    );\n  };\n\n  return (\n    <Fragment>\n      <Timer />\n      <Grid startTimer={start} stopTimer={stop} resetTimer={reset} />\n    </Fragment>\n  );\n};\n\nexport default Game;\n","import React from \"react\";\n\nfunction BigCroc() {\n  return <img src=\"crocodile.png\" alt=\"crocodile\" className=\"big-croc\" />;\n}\n\nexport default BigCroc;\n","import React from \"react\";\nimport Game from \"./game\";\nimport BigCroc from \"./bigCroc\";\n\nclass Layout extends React.Component {\n  render() {\n    return (\n      <div className=\"container-fluid\">\n        <div className=\"row\">\n          <div className=\"col-3\"></div>\n          <div className=\"col-6 game-container\">\n            <BigCroc />\n            <Game />\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Layout;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport Layout from \"./Layout\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\n\nReactDOM.render(<Layout />, document.getElementById(\"root\"));\n"],"sourceRoot":""}